## Subscribe

<%= partial "includes/codesnippets/subscribe.md.erb" %>

Subscribe to the location contained in your session token.

### HTTP Request

`POST location/subscribe`

### Request Body
Insert the session token into the body of this request. You should have retrieved the session token previously after executing the GetSessionToken request.

Param | Type | O/M | Description
------|-------|-------------------|------------
SessionToken | string | Mandatory | Contains the location at which the session token will be used.
Webhook | string | Optional | Fill in this field to receive messages via the webhook. No service bus information will be returned.
WebhookSecurity<br>Token | string | Optional | See above.

<aside class="success">
A successful request returns a status of 200 OK and the body of the response will contain the location capability list as well as service bus details. See the Peripheral API documentation for additional details. <!-- Add link here. The JSON response is the only thing not included here, so maybe you do not need a link to the conceptual guide-->
</aside>

### Response
The response includes the last known status of the device. If the application needs to obtain the real-time status, it can use the Request Status command. 

Param | Type | O/M | Description
------|------|--------------------|------------
LocationCapabilityList | string | Mandatory | A list of capabilities at the location.
ServiceBusUri | string | Mandatory | The URI for the Service Bus if no webhook is provided.
ServiceBusTopic | string | Mandatory | The Service Bus Topic to which the message is to be “published” (e.g., on unsolicited messages).
ServiceBus<br>Subscription | string | Mandatory | Returned if no web hook is provided.
ServiceBusShared<br>AccessToken | string | Mandatory | Returned if no web hook is provided.

<aside class="warning">
An unsuccessful request may return either a 400, 401, 409, 422 error code with an explanatory message. For the general meaning of these responses, see the Error Codes section of this document.
</aside>



